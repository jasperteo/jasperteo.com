---
import RootLayout from "@/layouts/RootLayout.astro";
import AppLayout from "@/layouts/AppLayout.astro";
import HomepageOutlet from "@/components/HomepageOutlet.astro";
import ResumeOutlet from "@/components/ResumeOutlet.astro";

const { outlet } = Astro.params;

const pages: { slug: string | undefined }[] = [
  { slug: undefined },
  { slug: "resume" },
];

const page = pages.find((page) => page.slug === outlet);

if (!page) {
  return Astro.redirect("/404");
}

const title = "Jasper Teo";
const description =
  "Hey there! I like crafting cool stuff for the web. Come explore and see what I'm up to!";
---

<RootLayout title={title} description={description}>
  <AppLayout slot="app">
    {outlet === undefined && <HomepageOutlet slot="outlet" />}
    {outlet === "resume" && <ResumeOutlet slot="outlet" />}
  </AppLayout>
</RootLayout>
