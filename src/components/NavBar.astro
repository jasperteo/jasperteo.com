---
import ThemeToggle from "@/components/ThemeToggle.astro";
import { buttonVariants } from "@/components/ui/button-variants";
import { Separator } from "@/components/ui/separator";

const { pathname } = Astro.url;
const isActive = (href: string) =>
  href === pathname || href === pathname.replace(/\/$/, "");

type NavListType = {
  href: string;
  icon: string;
  label: string;
};

const navList: NavListType[] = [
  { href: "/", icon: "carbon:home", label: "Home" },
  { href: "/projects", icon: "carbon:devices-apps", label: "Projects" },
];
---

<nav
  class="my-5 h-9 flex place-content-center gap-2 font-mono sm:my-10 sm:mr-10 sm:justify-end"
>
  {
    navList.map(({ href, icon, label }) => (
      <>
        <a
          href={href}
          class:list={[
            buttonVariants({ variant: "ghost" }),
            { active: isActive(href) },
            "shadow-primary/15 [&.active]:animate-swing [&.active]:animate-delay-150 sm:text-base [&.active]:font-medium [&.active]:shadow-lg",
          ]}
        >
          <iconify-icon icon={icon} class="mr-2 text-xl" />
          {label}
        </a>
        <Separator orientation="vertical" />
      </>
    ))
  }
  <div class="mx-4 h-9 w-9">
    <ThemeToggle />
  </div>
</nav>
